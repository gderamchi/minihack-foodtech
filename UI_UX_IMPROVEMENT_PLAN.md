# 🎨 UI/UX Improvement Plan - Vegan Diet App

## 📋 Implementation Summary

Based on user requirements:
1. ✅ Keep comprehensive questionnaire (18+ steps with MORE questions)
2. ✅ Merge Dashboard + Profile pages
3. ✅ Remove "Current Diet" question UI (set to "vegan" automatically)
4. ✅ Inline editing for best UX
5. ✅ Implement both simultaneously
6. ✅ Add: Profile completion %, skip option with confirmation, auto-save, achievement badges

---

## 🎯 Enhanced Questionnaire (20+ Steps)

### **Expanded Questions for Maximum Data Collection:**

#### **Step 1: Welcome** 🌱
- Welcome message
- App overview

#### **Step 2: Personal Info**
- Age
- Gender (optional, for nutritional recommendations)
- Height & Weight (optional, for calorie calculations)
- Household size
- Household type
- Primary language preference

#### **Step 3: Vegan Journey**
- **NEW:** How long have you been vegan/plant-based?
  - Just starting
  - Less than 6 months
  - 6 months - 1 year
  - 1-2 years
  - 2+ years
- **NEW:** What motivated your transition?
  - Health
  - Environment
  - Animal welfare
  - Religious/spiritual
  - Cost
  - Other

#### **Step 4: Dietary Goals** (Multi-select)
- Better health
- Weight management
- More energy
- Environmental impact
- Animal welfare
- Athletic performance
- Disease prevention
- Longevity

#### **Step 5: Health Conditions** (NEW)
- **NEW:** Do you have any health conditions?
  - Diabetes
  - High blood pressure
  - High cholesterol
  - Heart disease
  - Digestive issues
  - Thyroid issues
  - PCOS
  - None
- **NEW:** Are you pregnant or breastfeeding?
- **NEW:** Do you take any supplements?

#### **Step 6: Dietary Restrictions & Allergies**
- Gluten-free
- Nut allergies (specify which)
- Soy-free
- Oil-free
- Low-sodium
- Low-sugar
- Raw food preference
- Specific allergies (text input)

#### **Step 7: Food Preferences - Cuisines**
- Italian, Mexican, Asian, Indian, Mediterranean, etc.
- **NEW:** Preferred meal complexity
  - Simple (5 ingredients or less)
  - Moderate (5-10 ingredients)
  - Complex (10+ ingredients, gourmet)

#### **Step 8: Food Preferences - Ingredients**
- Favorite ingredients (text input)
- Disliked ingredients (text input)
- **NEW:** Protein preferences
  - Tofu
  - Tempeh
  - Seitan
  - Legumes (beans, lentils)
  - Nuts & seeds
  - Protein powder
  - Whole grains
- **NEW:** Preferred milk alternatives
  - Soy, Almond, Oat, Coconut, Rice, etc.

#### **Step 9: Taste Preferences** (NEW - Expanded)
- Spice tolerance (none to very hot)
- **NEW:** Sweetness preference (low to high)
- **NEW:** Saltiness preference (low to high)
- **NEW:** Preferred meal temperature
  - Hot meals
  - Room temperature
  - Cold meals
  - Mix of all
- Texture preferences (crunchy, creamy, chewy, etc.)
- Flavor profiles (spicy, sweet, savory, sour, umami)

#### **Step 10: Meal Timing & Frequency** (NEW)
- **NEW:** What time do you typically eat?
  - Breakfast time
  - Lunch time
  - Dinner time
- **NEW:** Do you practice intermittent fasting?
- Meals per day (1-6)
- **NEW:** Do you snack between meals?
- **NEW:** Preferred meal sizes
  - Small frequent meals
  - 3 regular meals
  - 2 large meals

#### **Step 11: Cooking Skills & Experience**
- Skill level (beginner, intermediate, advanced)
- **NEW:** How often do you cook?
  - Daily
  - 4-6 times/week
  - 2-3 times/week
  - Rarely
  - Never (meal prep/delivery)
- **NEW:** Favorite cooking methods
  - Stovetop
  - Oven/baking
  - Grilling
  - Steaming
  - Raw/no-cook
  - Air frying
  - Pressure cooking

#### **Step 12: Kitchen Equipment**
- Stove/Oven, Microwave, Blender, Food Processor, etc.
- **NEW:** Do you have a meal prep routine?
- **NEW:** Storage capacity
  - Large fridge/freezer
  - Standard
  - Limited (dorm/small kitchen)

#### **Step 13: Time Constraints**
- Average time available for cooking
  - Under 15 min
  - 15-30 min
  - 30-60 min
  - 60+ min
- **NEW:** Busiest days of the week (when you need quick meals)
- **NEW:** Do you meal prep on weekends?

#### **Step 14: Meal Planning Preferences**
- Quick meals, Batch cooking, Gourmet, Comfort food, etc.
- **NEW:** Leftover preference
  - Love leftovers
  - Okay with leftovers
  - Prefer fresh meals
- **NEW:** Recipe variety
  - Try new recipes often
  - Stick to favorites
  - Mix of both

#### **Step 15: Nutrition Goals** (NEW - Expanded)
- Primary health goal
- Daily calorie target
- **NEW:** Macronutrient focus
  - High protein
  - High carb
  - Balanced
  - Low carb
  - High fat (keto-vegan)
- **NEW:** Micronutrient concerns
  - Iron
  - B12
  - Calcium
  - Vitamin D
  - Omega-3
  - Zinc
  - Iodine

#### **Step 16: Fitness & Activity** (NEW)
- **NEW:** Activity level
  - Sedentary
  - Lightly active
  - Moderately active
  - Very active
  - Athlete
- **NEW:** Exercise routine
  - Cardio
  - Strength training
  - Yoga/Pilates
  - Sports
  - None
- **NEW:** Fitness goals
  - Weight loss
  - Muscle gain
  - Endurance
  - Flexibility
  - General fitness

#### **Step 17: Budget & Shopping**
- Budget level (low, medium, high)
- Shopping frequency
- **NEW:** Preferred shopping locations
  - Supermarket
  - Farmers market
  - Bulk stores
  - Online delivery
  - Multiple sources
- **NEW:** Organic preference
  - Always organic
  - When possible
  - Not important
- **NEW:** Seasonal eating preference

#### **Step 18: Social & Lifestyle** (NEW)
- **NEW:** Do you eat out often?
- **NEW:** Do you cook for non-vegans?
- **NEW:** Social eating challenges
  - Family gatherings
  - Work events
  - Restaurants
  - Travel
  - None
- **NEW:** Support system
  - Family is supportive
  - Friends are supportive
  - Going solo
  - Online community

#### **Step 19: Learning & Growth** (NEW)
- **NEW:** Interest in nutrition education
- **NEW:** Want cooking tutorials?
- **NEW:** Interested in meal planning tips?
- **NEW:** Want to learn about:
  - Vegan nutrition basics
  - Meal prep strategies
  - Budget-friendly shopping
  - Restaurant ordering tips
  - Vegan baking
  - Fermentation
  - Growing sprouts

#### **Step 20: Location**
- Current location (for store finder)
- Geolocation permission

#### **Step 21: Additional Notes**
- Free text for anything we missed
- **NEW:** Specific goals for next 30/60/90 days
- **NEW:** Biggest challenges with plant-based eating

#### **Step 22: Complete** 🎉
- Summary of profile
- Achievement unlocked: "Profile Complete!"

---

## 🎨 Merged Dashboard/Profile Page Design

### **Layout Structure:**

```
┌─────────────────────────────────────────────────────────┐
│ 🌱 HEADER                                               │
│ Welcome back, [Name]!                                   │
│ [Profile: 85% Complete] [🏆 3 Badges] [Sign Out]       │
├─────────────────────────────────────────────────────────┤
│ 📊 QUICK STATS (4 Cards)                               │
│ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐                  │
│ │  12  │ │  3   │ │ 900+ │ │  7   │                  │
│ │Recipes│ │Plans │ │Stores│ │Days  │                  │
│ │Saved  │ │Active│ │Found │ │Vegan │                  │
│ └──────┘ └──────┘ └──────┘ └──────┘                  │
├─────────────────────────────────────────────────────────┤
│ 🚀 QUICK ACTIONS (3 Large Cards)                       │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐      │
│ │ 🤖 Generate │ │ 🛒 Find     │ │ 📅 Browse   │      │
│ │ Vegan Recipe│ │ Stores      │ │ Menus       │      │
│ └─────────────┘ └─────────────┘ └─────────────┘      │
├─────────────────────────────────────────────────────────┤
│ 👤 YOUR PROFILE                                         │
│                                                         │
│ ▼ Personal Information [Edit]                          │
│   Name: Guillaume-Samir                                │
│   Age: 28 | Household: Family (4 people)              │
│   Location: Paris, France                              │
│                                                         │
│ ▼ Vegan Journey [Edit]                                 │
│   Duration: 6 months - 1 year                          │
│   Motivation: Health, Environment                      │
│                                                         │
│ ▼ Dietary Goals [Edit]                                 │
│   [Better Health] [Weight Loss] [More Energy]         │
│                                                         │
│ ▼ Health & Restrictions [Edit]                         │
│   Restrictions: Gluten-Free                            │
│   Allergies: Tree Nuts                                 │
│   Health Conditions: None                              │
│                                                         │
│ ▼ Food Preferences [Edit]                              │
│   Cuisines: Italian, Asian, Mediterranean              │
│   Loves: Avocado, Chickpeas, Tofu                     │
│   Dislikes: Cilantro, Olives                          │
│   Spice: Medium | Protein: Tofu, Legumes              │
│                                                         │
│ ▼ Cooking & Kitchen [Edit]                             │
│   Skill: Intermediate                                  │
│   Time Available: 30-60 min                            │
│   Equipment: Stove, Blender, Air Fryer                │
│   Meal Prep: Yes, on weekends                          │
│                                                         │
│ ▼ Meal Planning [Edit]                                 │
│   Preferences: Quick Meals, Batch Cooking              │
│   Meals/Day: 3 | Snacks: Yes                          │
│   Leftovers: Love them                                 │
│                                                         │
│ ▼ Nutrition & Fitness [Edit]                           │
│   Goal: Weight Loss                                    │
│   Calories: 2000/day                                   │
│   Activity: Moderately Active                          │
│   Focus: High Protein, Balanced                        │
│                                                         │
│ ▼ Budget & Shopping [Edit]                             │
│   Budget: Moderate                                     │
│   Frequency: Weekly                                    │
│   Locations: Supermarket, Farmers Market              │
│   Organic: When possible                               │
│                                                         │
│ ▼ Lifestyle & Social [Edit]                            │
│   Eat Out: Sometimes                                   │
│   Cook for Non-Vegans: Yes                            │
│   Support: Family & Friends                            │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ 🏆 ACHIEVEMENTS                                         │
│ [🌱 Started Journey] [📝 Profile Complete]            │
│ [🍽️ First Recipe] [📅 7 Day Streak]                  │
├─────────────────────────────────────────────────────────┤
│ ⚙️ ACCOUNT SETTINGS                                    │
│ [🔄 Retake Questionnaire] [🗑️ Delete Account]        │
└─────────────────────────────────────────────────────────┘
```

### **Inline Editing UX:**

When user clicks [Edit] on any section:
1. Section expands
2. Shows editable form fields (same as questionnaire)
3. [Save] and [Cancel] buttons appear
4. Auto-saves on blur (with debounce)
5. Shows success toast: "✅ Preferences updated!"

---

## 🎮 Gamification Features

### **Achievement Badges:**

1. **🌱 Welcome Aboard** - Completed registration
2. **📝 Profile Master** - 100% profile completion
3. **🍽️ First Recipe** - Generated first vegan recipe
4. **🛒 Store Explorer** - Found first store
5. **📅 Meal Planner** - Created first meal plan
6. **🔥 7 Day Streak** - Used app 7 days in a row
7. **🔥 30 Day Streak** - Used app 30 days in a row
8. **🌟 Recipe Collector** - Saved 10 recipes
9. **🎯 Goal Achiever** - Completed a health goal
10. **🌍 Eco Warrior** - Calculated carbon footprint savings

### **Profile Completion:**

- **Visual Progress Bar:** "Your Profile: 85% Complete"
- **Missing Sections Highlighted:** "Complete these to unlock personalized recommendations!"
- **Incentive:** "100% completion unlocks advanced meal planning features"

---

## 💾 Auto-Save Implementation

### **Questionnaire Auto-Save:**

1. **localStorage** - Save after each step
2. **Resume Option** - "Continue where you left off?"
3. **Progress Indicator** - "Last saved: 2 minutes ago"
4. **Clear on Complete** - Remove localStorage after successful completion

### **Profile Edits Auto-Save:**

1. **Debounced Save** - Save 1 second after user stops typing
2. **Visual Feedback** - "Saving..." → "✅ Saved"
3. **Error Handling** - "❌ Failed to save. Retry?"

---

## ⏭️ Skip Option with Confirmation

### **Skip Button:**

- Available on every questionnaire step (except Welcome & Complete)
- Shows confirmation modal:

```
┌─────────────────────────────────────┐
│ ⚠️ Skip This Step?                  │
│                                     │
│ We need this information to provide │
│ the best personalized experience.   │
│                                     │
│ Without it, our recommendations     │
│ may be less accurate.               │
│                                     │
│ [← Go Back]  [Skip Anyway →]       │
└─────────────────────────────────────┘
```

- Tracks skipped sections for profile completion %
- Can fill in later from profile page

---

## 🗄️ Database Schema Updates

### **User Model - Enhanced:**

```javascript
{
  firebaseUid: String,
  email: String,
  name: String,
  
  // Auto-set to 'vegan' (hidden from UI)
  currentDiet: { type: String, default: 'vegan' },
  
  // Profile completion
  profileCompletion: {
    percentage: Number,
    skippedSections: [String],
    lastUpdated: Date
  },
  
  // Gamification
  achievements: [{
    id: String,
    name: String,
    unlockedAt: Date
  }],
  streakDays: Number,
  lastActiveDate: Date,
  
  // Enhanced preferences
  preferences: {
    // Personal
    personal: {
      age: Number,
      gender: String,
      height: Number,
      weight: Number,
      householdSize: Number,
      householdType: String,
      language: String
    },
    
    // Vegan Journey (NEW)
    veganJourney: {
      duration: String,
      motivations: [String]
    },
    
    // Dietary
    dietary: {
      goals: [String],
      restrictions: [String],
      allergies: [String],
      healthConditions: [String],
      isPregnant: Boolean,
      supplements: [String]
    },
    
    // Food Preferences (EXPANDED)
    foodPreferences: {
      favoriteCuisines: [String],
      mealComplexity: String,
      proteinPreferences: [String],
      milkAlternatives: [String],
      preferredIngredients: [String],
      dislikedIngredients: [String],
      spiceTolerance: String,
      sweetnessPreference: String,
      saltinessPreference: String,
      mealTemperature: String,
      texturePreferences: [String],
      flavorProfiles: [String]
    },
    
    // Meal Timing (NEW)
    mealTiming: {
      breakfastTime: String,
      lunchTime: String,
      dinnerTime: String,
      intermittentFasting: Boolean,
      mealsPerDay: Number,
      snacksBetweenMeals: Boolean,
      mealSizes: String
    },
    
    // Cooking (EXPANDED)
    cooking: {
      skillLevel: String,
      cookingFrequency: String,
      favoriteMethods: [String],
      timeAvailable: Number,
      equipment: [String],
      mealPrepRoutine: Boolean,
      storageCapacity: String,
      busiestDays: [String]
    },
    
    // Meal Planning (EXPANDED)
    mealPlanning: {
      preferences: [String],
      leftoverPreference: String,
      recipeVariety: String
    },
    
    // Nutrition (EXPANDED)
    nutrition: {
      primaryGoal: String,
      calorieTarget: Number,
      macroFocus: String,
      micronutrientConcerns: [String]
    },
    
    // Fitness (NEW)
    fitness: {
      activityLevel: String,
      exerciseRoutine: [String],
      fitnessGoals: [String]
    },
    
    // Budget (EXPANDED)
    budget: {
      level: String,
      shoppingFrequency: String,
      preferredLocations: [String],
      organicPreference: String,
      seasonalEating: Boolean
    },
    
    // Social & Lifestyle (NEW)
    lifestyle: {
      eatOutFrequency: String,
      cookForNonVegans: Boolean,
      socialChallenges: [String],
      supportSystem: [String]
    },
    
    // Learning (NEW)
    learning: {
      nutritionEducation: Boolean,
      cookingTutorials: Boolean,
      mealPlanningTips: Boolean,
      interests: [String]
    },
    
    // Location
    location: {
      address: String,
      coordinates: [Number]
    },
    
    // Additional
    additionalNotes: String,
    shortTermGoals: String
  },
  
  onboardingCompleted: Boolean,
  createdAt: Date,
  updatedAt: Date
}
```

---

## 📱 Responsive Design

- **Mobile First:** Optimize for mobile screens
- **Touch Friendly:** Large tap targets (min 44x44px)
- **Swipe Navigation:** Swipe between questionnaire steps
- **Collapsible Sections:** All profile sections collapsible on mobile

---

## 🎯 Implementation Order

### **Phase 1: Enhanced Questionnaire** (Priority 1)
1. Add new questions (Steps 3, 5, 9, 10, 16, 18, 19, 21)
2. Remove "Current Diet" from UI
3. Implement consistent card design
4. Add auto-save to localStorage
5. Add skip option with confirmation
6. Update database schema

### **Phase 2: Merged Profile/Dashboard** (Priority 1)
1. Create new merged page component
2. Implement collapsible sections
3. Add inline editing functionality
4. Add profile completion percentage
5. Update routing (remove separate dashboard)

### **Phase 3: Gamification** (Priority 2)
1. Create achievement system
2. Add badge display
3. Implement streak tracking
4. Add progress indicators

### **Phase 4: Polish** (Priority 3)
1. Improve animations
2. Add loading states
3. Enhance error handling
4. Mobile optimization
5. Accessibility improvements

---

## ✅ Success Metrics

- **Profile Completion Rate:** Target 90%+
- **Questionnaire Completion Time:** Target < 10 minutes
- **User Retention:** Track daily active users
- **Feature Usage:** Monitor which preferences are most edited
- **Achievement Unlocks:** Track badge collection rate

---

## 🚀 Ready to Implement!

All requirements captured. Starting implementation now!
